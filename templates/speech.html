<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Language Translator</title>

    <script src="https://kit.fontawesome.com/a658a7b479.js" crossorigin="anonymous"></script>

    <link rel="icon" type="image/png" href="../docs/logo.png">
    <link rel="stylesheet" type="text/css" href="../static/style.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;

            background-image: url(./gi.gif);
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;



        }

        textarea {
            width: 80%;
            height: 100px;
            margin: 20px 0;
        }

        button {
            padding: 10px 20px;
            margin: 10px;
            font-size: 16px;
            cursor: pointer;
        }

        #speechResult {
            height: 150px;
        }

        .carousel-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
        }

        .video-wrapper video {
            width: 500px;
            height: 300px;
            border: 2px solid #ccc;
            border-radius: 10px;
        }

        .sp {
            margin-top: 21px;
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <span class="navbar-toggle" id="js-navbar-toggle">
            <button class="togglebtn" onClick={this.buttonclicked}> <i class="fas fa-bars"></i></button>
        </span>
        <h5><a href="../index.html" class="logo">Sign Language <span>Translator</span></a></h5>
        <ul class="main-nav" id="js-menu">
            <!-- <li>
                <a href="../index.html" class="nav-links ">Tutorials</a>
            </li> -->
            <li>
                <a href="./speech.html" class="nav-links">SpeechRecognition</a>
            </li>
            <li>
                <a href="./Training.html" class="nav-links">Training</a>
            </li>

            <li>
                <a href="./Model.html" class="nav-links">Dictionary</a>
            </li>

            <li>
                <a href="./About.html" class="nav-links orange" style="color: #ff9900;">About</a>
            </li>

        </ul>
    </nav>



    <!-- Video Container -->
    <!-- <h2>Video Carousel</h2>
    <div class="carousel-container">
        <button onclick="prevVideo()">‚èÆÔ∏è</button>
        <div class="video-wrapper">
            <video id="carouselVideo" src="video1.mp4" controls autoplay muted></video>
        </div>
        <button onclick="nextVideo()">‚è≠Ô∏è</button>
    </div> -->


    <!-- Speech to Text -->
    <div class="sp">
        <h1>Speech to Text & Text to Speech</h1>
        <div>
            <textarea id="speechResult" placeholder="Your speech will appear here..." readonly></textarea>
            <br>
            <button onclick="startSpeechToText()">‚ñ∂Ô∏è Start</button>
            <button onclick="stopSpeechToText()">‚èπ Stop</button>
            <button onclick="clearText()">üßπ Clear</button>
        </div>

        <!-- Text to Speech -->
        <div>
            <textarea id="textToSpeak" placeholder="Type text to speak..."></textarea>
            <br>
            <button onclick="clearTextt()">üßπ Clear</button>
            <button onclick="speakText()">üîä Speak Text</button>
        </div>
    </div>
    <script>
        let recognition;

        function initializeRecognition() {
            recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'en-US';
            recognition.continuous = true;
            recognition.interimResults = false;

            recognition.onresult = function (event) {
                let finalTranscript = '';
                for (let i = event.resultIndex; i < event.results.length; ++i) {
                    if (event.results[i].isFinal) {
                        finalTranscript += event.results[i][0].transcript + ' ';
                    }
                }
                const currentText = document.getElementById('speechResult').value;
                document.getElementById('speechResult').value = currentText + finalTranscript;
            };

            recognition.onerror = function (event) {
                console.error('Speech recognition error:', event.error);
            };
        }

        function startSpeechToText() {
            if (!recognition) {
                initializeRecognition();
            }
            recognition.start();
        }

        function stopSpeechToText() {
            if (recognition) {
                recognition.stop();
            }
        }

        function clearText() {
            document.getElementById('speechResult').value = '';
        }
        function clearTextt() {
            document.getElementById('textToSpeak').value = '';
        }

        function speakText() {
            const text = document.getElementById('textToSpeak').value;
            const utterance = new SpeechSynthesisUtterance(text);
            speechSynthesis.speak(utterance);
        }

        let videoIndex = 0;
        const videoSources = [
            'video1.mp4',
            'video2.mp4',
            'video3.mp4',
            'video4.mp4',
            'video5.mp4'
        ];

        const carouselVideo = document.getElementById('carouselVideo');

        function showVideo(index) {
            carouselVideo.src = videoSources[index];
            carouselVideo.load();
            carouselVideo.play();
        }

        function nextVideo() {
            videoIndex = (videoIndex + 1) % videoSources.length;
            showVideo(videoIndex);
        }

        function prevVideo() {
            videoIndex = (videoIndex - 1 + videoSources.length) % videoSources.length;
            showVideo(videoIndex);
        }
        let mainNav = document.getElementById('js-menu');
        let navBarToggle = document.getElementById('js-navbar-toggle');

        navBarToggle.addEventListener('click', function () {
            mainNav.classList.toggle('active');
        });

    </script>
</body>

</html>